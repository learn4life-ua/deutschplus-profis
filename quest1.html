<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ö–≤–µ—Å—Ç: –ö—É–ª—å—Ç—É—Ä–∞ –ø—Ä–∞—Ü—ñ ‚Äî Deutsch+Profis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet" />
    <style>
        :root {
          --green: #009846;
          --green-light: #e6f5f0;
          --dark: #1f2937;
          --muted: #6b7280;
          --bg: #f9fafb;
          --card-bg: #ffffff;
          --border-color: #e5e7eb;
          --radius: 16px;
          --shadow: 0 4px 6px -1px rgba(0,0,0,.03), 0 2px 4px -2px rgba(0,0,0,.03);
          --shadow-lg: 0 10px 15px -3px rgba(0,0,0,.05), 0 4px 6px -4px rgba(0,0,0,.05);
          --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
          --red-light: #fee2e2;
          --red: #dc2626;
        }
        body {
          margin: 0;
          background: var(--bg);
          color: #374151;
          font-family: 'Inter', system-ui, sans-serif;
          line-height: 1.6;
        }
        .wrap {
          box-sizing: border-box;
          max-width: 768px;
          margin: 0 auto;
          padding: clamp(16px, 5vw, 24px);
        }
        .main-nav {
          position: sticky;
          top: 16px;
          margin: 16px clamp(16px, 5vw, 24px) 0;
          z-index: 50;
          background: rgba(255, 255, 255, 0.85);
          backdrop-filter: blur(10px);
          border: 1px solid var(--border-color);
          border-radius: 16px;
          box-shadow: var(--shadow-lg);
        }
        .main-nav .nav-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
          max-width: 1100px;
          margin: 0 auto;
          padding: 12px clamp(16px, 5vw, 24px);
        }
        .logo {
          display: flex;
          align-items: center;
          gap: 8px;
          font-weight: 700;
          font-size: 18px;
          color: var(--dark);
          text-decoration: none;
        }
        .logo svg { color: var(--green); }
        
        /* --- Quest Styles --- */
        .quest-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-top: 24px;
        }
        .quest-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-color);
            text-align: center;
        }
        .quest-header h1 {
            font-size: 24px;
            font-weight: 800;
            color: var(--dark);
        }
        .progress-bar-container {
            background-color: var(--border-color);
            border-radius: 99px;
            height: 10px;
            margin-top: 16px;
            overflow: hidden;
        }
        .progress-bar-fill {
            background-color: var(--green);
            height: 100%;
            border-radius: 99px;
            transition: width 0.5s ease-in-out;
        }
        .quest-body {
            padding: 24px;
        }
        .scene-layout {
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }
        .character-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        .scene-text {
            font-size: 1.1em;
            color: var(--dark);
        }
        .scene-text strong { font-weight: 700; }
        .choices-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 24px;
        }
        .choice-btn {
            width: 100%;
            text-align: left;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            background-color: var(--card-bg);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .choice-btn:hover:not(:disabled) {
            background-color: var(--green-light);
            border-color: var(--green);
            transform: translateY(-2px);
        }
        .choice-btn:disabled { cursor: not-allowed; opacity: 0.8; }
        .choice-btn .icon { display: none; }
        .choice-btn.correct .icon.check { display: inline; color: var(--green); }
        .choice-btn.incorrect .icon.cross { display: inline; color: var(--red); }
        
        .feedback-container {
            margin-top: 20px;
            padding: 16px;
            border-radius: 12px;
            animation: fadeIn 0.5s;
        }
        .feedback-correct {
            background-color: var(--green-light);
            color: #065f46;
            border: 1px solid var(--green);
        }
        .feedback-incorrect {
            background-color: var(--red-light);
            color: #991b1b;
            border: 1px solid var(--red);
        }
        .nav-container { text-align: center; margin-top: 20px; }
        .d-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            text-decoration: none;
            border: 1px solid transparent;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            transition: var(--transition);
        }
        .d-btn--primary { background: var(--green); color: #fff; }
        .d-btn--primary:hover { background: #007a38; }
        .d-btn--secondary { background: var(--border-color); color: var(--dark); }

        .final-summary ul { list-style: none; padding: 0; margin-top: 16px; }
        .final-summary li { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
        .final-summary li svg { color: var(--green); }
        .final-summary.review-topics li svg { color: var(--muted); }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .hidden { display: none; }
        
        .footer {
          text-align: center;
          color: var(--muted);
          font-size: 14px;
          padding: clamp(40px, 7vw, 60px) 0;
        }
        .footer a { color: var(--green); text-decoration: none; font-weight: 500; }
        .footer a:hover { text-decoration: underline; }

    </style>
</head>
<body>

<nav class="main-nav">
  <div class="nav-content">
    <a href="index.html" class="logo">
      <svg width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
      Deutsch<span style="color:var(--green)">+</span>Profis
    </a>
  </div>
</nav>

<main>
    <div class="wrap">
        <!-- Start Screen -->
        <div id="start-screen" class="quest-card" style="text-align: center;">
            <div class="quest-body" style="padding: 32px;">
                <h1 style="font-size: 28px; font-weight: 800; color: var(--dark); margin-bottom: 16px;">–ö–≤–µ—Å—Ç: –ö—É–ª—å—Ç—É—Ä–∞ –ø—Ä–∞—Ü—ñ</h1>
                <p style="font-size: 18px; color: var(--muted); line-height: 1.7; margin-bottom: 24px;">
                    –î–æ–ø–æ–º–æ–∂—ñ—Ç—å <strong>–ú–∞—Ä—ñ—á—Ü—ñ</strong> —Ç–∞ <strong>–¢–∞—Ä–∞—Å—É</strong> –ø—Ä–æ–π—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –≤ –ù—ñ–º–µ—á—á–∏–Ω—ñ, —É–Ω–∏–∫–Ω—É—Ç–∏ —Ç–∏–ø–æ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –º—ñ—Å—Ü–µ–≤—É –¥—ñ–ª–æ–≤—É –∫—É–ª—å—Ç—É—Ä—É.
                </p>
                <button id="start-btn" class="d-btn d-btn--primary">–ü–æ—á–∞—Ç–∏ –∫–≤–µ—Å—Ç</button>
            </div>
        </div>

        <!-- Quest Container -->
        <div id="quest-container" class="quest-card hidden">
            <div class="quest-header">
                <h1 id="quest-title"></h1>
                <div class="progress-bar-container">
                    <div id="progress-bar" class="progress-bar-fill" style="width: 0%"></div>
                </div>
            </div>
            <div class="quest-body">
                <div class="scene-layout">
                    <div id="character-avatar" class="character-avatar"></div>
                    <div>
                        <p id="scene-text" class="scene-text"></p>
                    </div>
                </div>
                <div id="choices-container" class="choices-container"></div>
                <div id="feedback-container" class="feedback-container hidden"></div>
                <div id="navigation-container" class="nav-container">
                    <button id="next-btn" class="d-btn d-btn--primary hidden">–î–∞–ª—ñ &rarr;</button>
                </div>
                <div id="final-screen" class="hidden" style="text-align: center;">
                   <h2 id="final-title" style="font-size: 24px; font-weight: 800; color: var(--green);"></h2>
                   <p id="final-message" style="font-weight: 500; margin-top: 16px;"></p>
                   <div id="final-summary" class="final-summary" style="text-align: left;"></div>
                   <div style="display: flex; justify-content: center; gap: 16px; margin-top: 24px;">
                       <button id="restart-btn" class="d-btn d-btn--primary">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
                       <a href="etiquette.html" class="d-btn d-btn--secondary">–ù–∞–∑–∞–¥ –¥–æ —Ç–µ–æ—Ä—ñ—ó</a>
                   </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class="footer">
    <div class="wrap">
      <p>¬© 2025 Deutsch+Profis ‚Ä¢ –í–°–ü ¬´–ê–ï–§–ö –ü–î–ê–£¬ª. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
      <p><a href="https://docs.google.com/forms/d/e/YOUR_FORM_ID/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">–ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —ñ–¥–µ—é</a></p>
    </div>
</footer>

    <script>
        const questData = [
            {
                scene: 1,
                character: "–ú–∞—Ä—ñ—á–∫–∞",
                avatarId: "marichka-avatar",
                title: "P√ºnktlichkeit (–ü—É–Ω–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å)",
                text: "9:55 —Ä–∞–Ω–∫—É. –ú–∏ –∑ –¢–∞—Ä–∞—Å–æ–º –±—ñ–ª—è –∫—ñ–º–Ω–∞—Ç–∏ –¥–ª—è –Ω–∞—Ä–∞–¥. –ù–∞ –¥–≤–µ—Ä—è—Ö: <em>‚ÄûBesprechung: 10:00 Uhr‚Äú</em>. –¢–∞—Ä–∞—Å –ø—Ä–æ–ø–æ–Ω—É—î —à–≤–∏–¥–∫–æ –≤–∏–ø–∏—Ç–∏ –∫–∞–≤–∏. –ê–ª–µ –∂ <strong>P√ºnktlichkeit</strong> ‚Äî —Ü–µ —Å–≤—è—Ç–µ! –©–æ —Ä–æ–±–∏—Ç–∏?",
                choices: [
                    { text: "‚òï –†–∏–∑–∏–∫–Ω—É—Ç–∏ –π –ø—ñ—Ç–∏ –ø–æ –∫–∞–≤—É.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –∑–∞—Ö–æ–¥–∏—Ç–µ –æ 10:03. –£—Å—ñ –≤–∂–µ –Ω–∞ –º—ñ—Å—Ü—è—Ö. Frau Becker —Å—É—Ö–æ –∫–∞–∂–µ: <em>‚ÄûSie sind zu sp√§t.‚Äú</em> –í–∏ —Å–ø—Ä–∞–≤–ª—è—î—Ç–µ –≤—Ä–∞–∂–µ–Ω–Ω—è –Ω–µ–Ω–∞–¥—ñ–π–Ω–æ—ó –ª—é–¥–∏–Ω–∏." },
                    { text: "üïò –ó–∞–π—Ç–∏, –∑–∞–π–Ω—è—Ç–∏ –º—ñ—Å—Ü—è —ñ –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏—Å—è.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –∑–∞—Ö–æ–¥–∏—Ç–µ –≤—á–∞—Å–Ω–æ. Frau Becker –ø–æ—Å–º—ñ—Ö–∞—î—Ç—å—Å—è: <em>‚ÄûSehr gut, Sie sind p√ºnktlich.‚Äú</em> –í–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç–µ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–∑–º." }
                ]
            },
            {
                scene: 2,
                character: "–¢–∞—Ä–∞—Å",
                avatarId: "taras-avatar",
                title: "Direkte Kommunikation (–ü—Ä—è–º–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è)",
                text: "–Ø –ø—Ä–µ–∑–µ–Ω—Ç—É—é —ñ–¥–µ—é. –ö–æ–ª–µ–≥–∞, –ø–∞–Ω –®–º—ñ–¥—Ç, –∫–∞–∂–µ: <em>‚ÄûIhre Idee ist nicht durchdacht.‚Äú</em> (–í–∞—à–∞ —ñ–¥–µ—è –Ω–µ–ø—Ä–æ–¥—É–º–∞–Ω–∞). –ú–∞—Ä—ñ—á–∫–∞ —à–µ–ø–æ—á–µ, —â–æ —Ü–µ <strong>konstruktive Kritik</strong>. –Ø–∫ –º–µ–Ω—ñ –≤—ñ–¥—Ä–µ–∞–≥—É–≤–∞—Ç–∏?",
                choices: [
                    { text: "üò† –ú–æ–≤—á–∫–∏ –æ–±—Ä–∞–∑–∏—Ç–∏—Å—å.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –ø–æ–∫–∞–∑—É—î—Ç–µ –Ω–µ–≤–º—ñ–Ω–Ω—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ñ—ñ–¥–±–µ–∫–æ–º. –ö–æ–ª–µ–≥–∏ –≤–≤–∞–∂–∞—Ç–∏–º—É—Ç—å, —â–æ –≤–∏ –Ω–µ –≥–æ—Ç–æ–≤—ñ –¥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –¥—ñ–∞–ª–æ–≥—É." },
                    { text: "üí¨ –ü–æ–¥—è–∫—É–≤–∞—Ç–∏ —ñ –ø–æ–ø—Ä–æ—Å–∏—Ç–∏ –ø–æ—è—Å–Ω–∏—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –∫–∞–∂–µ—Ç–µ: <em>‚ÄûDanke f√ºr Ihr ehrliches Feedback. Was genau sollte ich verbessern?‚Äú</em>. –ü–∞–Ω –®–º—ñ–¥—Ç –ø–æ—è—Å–Ω—é—î. –í–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç–µ –∑—Ä—ñ–ª—ñ—Å—Ç—å." }
                ]
            },
            {
                scene: 3,
                character: "–¢–∞—Ä–∞—Å",
                avatarId: "taras-avatar",
                title: "Kleiderordnung (–î—Ä–µ—Å-–∫–æ–¥)",
                text: "–ü–µ—Ä—à–∏–π –¥–µ–Ω—å! –Ø –¥—É–º–∞—é –≤–¥—è–≥—Ç–∏ —É–ª—é–±–ª–µ–Ω—ñ –¥–∂–∏–Ω—Å–∏ —Ç–∞ —Ñ—É—Ç–±–æ–ª–∫—É, –≥–æ–ª–æ–≤–Ω–µ –∂ –∫–æ–º—Ñ–æ—Ä—Ç. –ê–ª–µ –ú–∞—Ä—ñ—á–∫–∞ –∫–∞–∂–µ, —â–æ —Ç—É—Ç –≤–∞–∂–ª–∏–≤–∞ <strong>Kleiderordnung</strong>, —ñ —Ä–∞–¥–∏—Ç—å —Å—Ç–∏–ª—å business casual. –©–æ –æ–±—Ä–∞—Ç–∏?",
                choices: [
                    { text: "üëï –í–¥—è–≥—Ç–∏ –¥–∂–∏–Ω—Å–∏ —Ç–∞ —Ñ—É—Ç–±–æ–ª–∫—É.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ –≤ –∑–∞–Ω–∞–¥—Ç–æ –ø–æ–≤—Å—è–∫–¥–µ–Ω–Ω–æ–º—É –æ–¥—è–∑—ñ. –¶–µ —Å—Ç–≤–æ—Ä—é—î –≤—Ä–∞–∂–µ–Ω–Ω—è, —â–æ –≤–∏ –Ω–µ—Å–µ—Ä–π–æ–∑–Ω–æ —Å—Ç–∞–≤–∏—Ç–µ—Å—è –¥–æ —Ä–æ–±–æ—Ç–∏. –û—Ö–∞–π–Ω–∏–π –¥—ñ–ª–æ–≤–∏–π –≤–∏–≥–ª—è–¥ ‚Äî —Ü–µ –ø—Ä–æ—è–≤ –ø–æ–≤–∞–≥–∏." },
                    { text: "üëî –û–±—Ä–∞—Ç–∏ —Å—Ç–∏–ª—å business casual: –∫–ª–∞—Å–∏—á–Ω—ñ –±—Ä—é–∫–∏ —Ç–∞ —Å–æ—Ä–æ—á–∫—É.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –≤–∏–≥–ª—è–¥–∞—î—Ç–µ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ. –í–∞—à –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –≤–∏–≥–ª—è–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ–≤–∞–≥—É –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó. –¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –Ω—ñ–º–µ—Ü—å–∫–∏—Ö –æ—Ñ—ñ—Å—ñ–≤." }
                ]
            },
            {
                scene: 4,
                character: "–ú–∞—Ä—ñ—á–∫–∞",
                avatarId: "marichka-avatar",
                title: "Formalit√§t und Hierarchie (–§–æ—Ä–º–∞–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è)",
                text: "–Ø –±–∞—á—É –Ω–∞—à–æ–≥–æ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞, –ø–∞–Ω–∞ –õ–∞–Ω–≥–µ, —É –∫–æ—Ä–∏–¥–æ—Ä—ñ. –ú–µ–Ω—ñ —Ç—Ä–µ–±–∞ —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ –∑–∞–ø–∏—Ç–∞—Ç–∏ –ø—Ä–æ –∑–≤—ñ—Ç. –¶–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è <strong>Formalit√§t</strong>, —á–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞?",
                choices: [
                    { text: "üëã –ì—É–∫–Ω—É—Ç–∏ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞, —â–æ–± –Ω–µ –≤—Ç—Ä–∞—Ç–∏—Ç–∏ –º–æ–º–µ–Ω—Ç.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ó–≤–µ—Ä—Ç–∞—Ç–∏—Å—å –¥–æ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞ –≤ –∫–æ—Ä–∏–¥–æ—Ä—ñ ‚Äî –Ω–µ–ø–æ–≤–∞–≥–∞ –¥–æ –π–æ–≥–æ —á–∞—Å—É. –í–∞–∂–ª–∏–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è –∫—Ä–∞—â–µ –æ–±–≥–æ–≤–æ—Ä—é–≤–∞—Ç–∏ —É –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π —á–∞—Å." },
                    { text: "üì© –ù–∞–ø–∏—Å–∞—Ç–∏ –ª–∏—Å—Ç–∞ –∑ –ø—Ä–æ—Ö–∞–Ω–Ω—è–º –ø—Ä–æ –∫–æ—Ä–æ—Ç–∫—É –∑—É—Å—Ç—Ä—ñ—á.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ü—Ä–∞–≤–∏–ª—å–Ω–æ. –ü–æ–≤–∞–≥–∞ –¥–æ —ñ—î—Ä–∞—Ä—Ö—ñ—ó —Ç–∞ —Ñ–æ—Ä–º–∞–ª—å–Ω–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä ‚Äî –∫–ª—é—á–æ–≤–∞. –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–≤–∞–≥—É –∑–∞ —Å–≤—ñ–π –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥." }
                ]
            },
            {
                scene: 5,
                character: "–ú–∞—Ä—ñ—á–∫–∞",
                avatarId: "marichka-avatar",
                title: "Sorgfalt und Qualit√§t (–†–µ—Ç–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —è–∫—ñ—Å—Ç—å)",
                text: "–ú–∏ —Å–æ—Ä—Ç—É—î–º–æ –ø–æ–ª—É–Ω–∏—Ü—é. –¢–∞—Ä–∞—Å –ø—Ä–æ–ø–æ–Ω—É—î –∑–∞–ª–∏—à–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —è–≥—ñ–¥ –∑ –ª–µ–¥—å –ø–æ–º—ñ—Ç–Ω–∏–º–∏ –ø–ª—è–º–∫–∞–º–∏. –ê–ª–µ –∂ <strong>Deutsche Qualit√§t</strong> ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–≤–∞. –©–æ —Ä–æ–±–∏—Ç–∏?",
                choices: [
                    { text: "üçì –ó–∞–ª–∏—à–∏—Ç–∏ —ó—Ö, —â–æ–± –±—É–ª–æ —à–≤–∏–¥—à–µ.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ù–∞–≤—ñ—Ç—å –¥—Ä—ñ–±–Ω–∏–π –¥–µ—Ñ–µ–∫—Ç –º–æ–∂–µ –≤–ø–ª–∏–Ω—É—Ç–∏ –Ω–∞ —Ä–µ–ø—É—Ç–∞—Ü—ñ—é –∫–æ–º–ø–∞–Ω—ñ—ó. –ù–µ—É–≤–∞–∂–Ω—ñ—Å—Ç—å –¥–æ –¥–µ—Ç–∞–ª–µ–π –ø—ñ–¥—Ä–∏–≤–∞—î –¥–æ–≤—ñ—Ä—É." },
                    { text: "üì¶ –í—ñ–¥–∫–ª–∞—Å—Ç–∏ —Ü—ñ —è–≥–æ–¥–∏ –≤ –æ–∫—Ä–µ–º—É –∫–æ—Ä–æ–±–∫—É.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ß—É–¥–æ–≤–µ —Ä—ñ—à–µ–Ω–Ω—è! –í–∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞–ª–∏ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ —è–∫–æ—Å—Ç—ñ —Ç–∞ –¥–±–∞–π–ª–∏–≤–µ —Å—Ç–∞–≤–ª–µ–Ω–Ω—è –¥–æ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó." }
                ]
            },
            {
                scene: 6,
                character: "–¢–∞—Ä–∞—Å",
                avatarId: "taras-avatar",
                title: "Work-Life-Balance (–ë–∞–ª–∞–Ω—Å —Ä–æ–±–æ—Ç–∏ —Ç–∞ –∂–∏—Ç—Ç—è)",
                text: "–í–∂–µ 19:30. –Ø –∑–∞–±—É–≤ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–≤—ñ—Ç. –ú–∞—Ä—ñ—á–∫–∞ –∫–∞–∂–µ, —â–æ –≤–∂–µ <strong>Feierabend!</strong> (–∫—ñ–Ω–µ—Ü—å —Ä–æ–±–æ—á–æ–≥–æ –¥–Ω—è) —ñ –Ω–µ –≤–∞—Ä—Ç–æ —Ç—É—Ä–±—É–≤–∞—Ç–∏ –∫–æ–ª–µ–≥. –©–æ —Ä–æ–±–∏—Ç–∏?",
                choices: [
                    { text: "üì± –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ª–∏—Å—Ç –Ω–µ–≥–∞–π–Ω–æ.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∞—à –∫–µ—Ä—ñ–≤–Ω–∏–∫ –æ—Ç—Ä–∏–º–∞—î –ª–∏—Å—Ç, –∞–ª–µ —Ü–µ –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Ä–∞–∂–µ–Ω–Ω—è, —â–æ –≤–∏ –Ω–µ –≤–º—ñ—î—Ç–µ –ø–ª–∞–Ω—É–≤–∞—Ç–∏ —Å–≤—ñ–π —á–∞—Å." },
                    { text: "‚è∞ –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –ª–∏—Å—Ç, –∞–ª–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫—É –Ω–∞ 8 —Ä–∞–Ω–∫—É.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –ø–æ–≤–∞–∂–∞—î—Ç–µ –æ—Å–æ–±–∏—Å—Ç–∏–π —á–∞—Å –∫–æ–ª–µ–≥. –¶–µ –æ–∑–Ω–∞–∫–∞ —Ö–æ—Ä–æ—à–æ—ó —Å–∞–º–æ–æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –ø–æ–≤–∞–≥–∏ –¥–æ –∫—É–ª—å—Ç—É—Ä–∏ –±–∞–ª–∞–Ω—Å—É." }
                ]
            },
            {
                scene: 7,
                character: "–¢–∞—Ä–∞—Å",
                avatarId: "taras-avatar",
                title: "Sicherheit am Arbeitsplatz (–ë–µ–∑–ø–µ–∫–∞ –Ω–∞ —Ä–æ–±–æ—Ç—ñ)",
                text: "–ú–µ–Ω—ñ —Ç—Ä–µ–±–∞ —à–≤–∏–¥–∫–æ –ø–µ—Ä–µ–≤–µ–∑—Ç–∏ —è—â–∏–∫–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á–µ–º. <strong>Sicherheitsvorschriften</strong> (–ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏) —Ç—É—Ç –¥—É–∂–µ —Å—É–≤–æ—Ä—ñ, –Ω–∞–≤—ñ—Ç—å –Ω–∞ —Ö–≤–∏–ª–∏–Ω—É. –ß–∏ –≤–∞—Ä—Ç–æ –æ–¥—è–≥–∞—Ç–∏ –∑–∞—Ö–∏—Å—Ç?",
                choices: [
                    { text: "üëç –ù–µ –æ–¥—è–≥–∞—Ç–∏, –∞–¥–∂–µ —Ü–µ —Å–ø—Ä–∞–≤–¥—ñ —à–≤–∏–¥–∫–æ.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ù–µ—Ö—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–µ–∑–ø–µ–∫–∏ –Ω–∞–≤—ñ—Ç—å –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–π —á–∞—Å –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ —Ç—Ä–∞–≤–º —ñ –ø–æ–∫–∞–∑—É—î –≤–∞—Å —è–∫ –±–µ–∑–≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∞." },
                    { text: "ü¶∫ –û–¥—è–≥—Ç–∏ –≤–µ—Å—å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –∑–∞—Ö–∏—Å—Ç.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏ –∫–∞–∂–µ—Ç–µ: <em>‚ÄûSicherheit geht vor!‚Äú</em> (–ë–µ–∑–ø–µ–∫–∞ –ø–µ—Ä–µ–¥—É—Å—ñ–º!). –í–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å —ñ –ø–æ–≤–∞–≥—É –¥–æ –ø—Ä–∞–≤–∏–ª." }
                ]
            },
            {
                scene: 8,
                character: "–ú–∞—Ä—ñ—á–∫–∞",
                avatarId: "marichka-avatar",
                title: "Zuverl√§ssigkeit (–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å)",
                text: "–ù–∞–º –¥–æ—Ä—É—á–∏–ª–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—é –¥–æ –ø'—è—Ç–Ω–∏—Ü—ñ. –ú–∏ –∑–Ω–∞—î–º–æ, —â–æ <strong>Zuverl√§ssigkeit</strong> (–Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å) —Ç—É—Ç –¥—É–∂–µ —Ü—ñ–Ω—É—é—Ç—å. –Ø–∫ –Ω–∞–º –∫—Ä–∞—â–µ –æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É?",
                choices: [
                    { text: "üëç –ó—Ä–æ–±–∏—Ç–∏ –∫–æ–∂–µ–Ω —Å–≤–æ—é —á–∞—Å—Ç–∏–Ω—É –≤ —á–µ—Ç–≤–µ—Ä.", isCorrect: false, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –í–∏—è–≤–ª—è—î—Ç—å—Å—è, —â–æ –≤–∞—à—ñ —á–∞—Å—Ç–∏–Ω–∏ –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è –∑–∞ —Å—Ç–∏–ª–µ–º. –†–æ–±–æ—Ç–∞ –≤–∏–≥–ª—è–¥–∞—î –Ω–µ–¥–±–∞–ª–æ. –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å ‚Äî —Ü–µ —ñ –ø—Ä–æ —è–∫—ñ—Å—Ç—å —Ç–µ–∂." },
                    { text: "ü§ù –°–∫–ª–∞—Å—Ç–∏ —Å–ø—ñ–ª—å–Ω–∏–π –ø–ª–∞–Ω —ñ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É —Ä–∞–∑–æ–º.", isCorrect: true, feedback: "<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> Frau Becker –≤—Ä–∞–∂–µ–Ω–∞ –≤–∞—à–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—é. –¶–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –¥–≤–µ—Ä—ñ –¥–æ –Ω–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω—å." }
                ]
            }
        ];

        let currentSceneIndex = 0;
        let score = 0;
        let incorrectAnswers = [];
        
        const startScreenEl = document.getElementById('start-screen');
        const startBtnEl = document.getElementById('start-btn');
        const questContainerEl = document.getElementById('quest-container');
        const sceneTextEl = document.getElementById('scene-text');
        const choicesContainerEl = document.getElementById('choices-container');
        const feedbackContainerEl = document.getElementById('feedback-container');
        const navigationContainerEl = document.getElementById('navigation-container');
        const nextBtnEl = document.getElementById('next-btn');
        const restartBtnEl = document.getElementById('restart-btn');
        const progressBarEl = document.getElementById('progress-bar');
        const questTitleEl = document.getElementById('quest-title');
        const finalScreenEl = document.getElementById('final-screen');
        const finalTitleEl = document.getElementById('final-title');
        const finalMessageEl = document.getElementById('final-message');
        const finalSummaryEl = document.getElementById('final-summary');
        const characterAvatarEl = document.getElementById('character-avatar');

        const avatars = {
            "marichka-avatar": `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50" fill="#E9D5FF"/><text x="50" y="68" font-family="Inter, sans-serif" font-size="50" font-weight="700" fill="#4C1D95" text-anchor="middle">–ú</text></svg>`,
            "taras-avatar": `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="50" fill="#D1FAE5"/><text x="50" y="68" font-family="Inter, sans-serif" font-size="50" font-weight="700" fill="#065F46" text-anchor="middle">–¢</text></svg>`,
        };

        function startQuest() {
            startScreenEl.classList.add('hidden');
            questContainerEl.classList.remove('hidden');
            renderScene();
        }

        function renderScene() {
            feedbackContainerEl.classList.add('hidden');
            nextBtnEl.classList.add('hidden');
            choicesContainerEl.innerHTML = '';
            choicesContainerEl.classList.remove('hidden');
            document.querySelector('.scene-layout').classList.remove('hidden');

            const scene = questData[currentSceneIndex];
            questTitleEl.textContent = scene.title;
            sceneTextEl.innerHTML = scene.text;
            characterAvatarEl.innerHTML = avatars[scene.avatarId];

            scene.choices.forEach(choice => {
                const button = document.createElement('button');
                button.innerHTML = `<span>${choice.text}</span> <span class="icon check hidden">&#10003;</span><span class="icon cross hidden">&#10007;</span>`;
                button.className = 'choice-btn';
                button.onclick = () => handleChoice(choice);
                choicesContainerEl.appendChild(button);
            });
            
            const progress = ((currentSceneIndex) / questData.length) * 100;
            progressBarEl.style.width = `${progress}%`;
        }

        function handleChoice(choice) {
            feedbackContainerEl.innerHTML = choice.feedback;
            feedbackContainerEl.className = choice.isCorrect ? 'feedback-container feedback-correct' : 'feedback-container feedback-incorrect';
            feedbackContainerEl.classList.remove('hidden');
            
            if (choice.isCorrect) {
                score++;
            } else {
                incorrectAnswers.push(questData[currentSceneIndex]);
            }

            Array.from(choicesContainerEl.children).forEach((button, index) => {
                button.disabled = true;
                const correspondingChoice = questData[currentSceneIndex].choices[index];
                if (correspondingChoice.isCorrect) {
                    button.classList.add('correct');
                } else {
                    button.classList.add('incorrect');
                }
            });

            nextBtnEl.classList.remove('hidden');
        }

        function nextScene() {
            currentSceneIndex++;
            if (currentSceneIndex < questData.length) {
                renderScene();
            } else {
                showFinalScreen();
            }
        }

        function showFinalScreen() {
            document.querySelector('.scene-layout').classList.add('hidden');
            choicesContainerEl.classList.add('hidden');
            feedbackContainerEl.classList.add('hidden');
            navigationContainerEl.classList.add('hidden');
            
            questTitleEl.textContent = "–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∫–≤–µ—Å—Ç—É";
            progressBarEl.style.width = '100%';
            finalScreenEl.classList.remove('hidden');
            
            let title, message, summaryList;
            if (score === questData.length) {
                title = "Herzlichen Gl√ºckwunsch! (–í—ñ—Ç–∞—î–º–æ!) üéâ";
                message = "–í–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ –∑–∞—Å–≤–æ—ó–ª–∏ –∫–ª—é—á–æ–≤—ñ –∞—Å–ø–µ–∫—Ç–∏ –Ω—ñ–º–µ—Ü—å–∫–æ—ó –∫—É–ª—å—Ç—É—Ä–∏ –ø—Ä–∞—Ü—ñ.";
                summaryList = `<ul>
                    ${questData.map(q => {
                        const [principle, translation] = q.title.split(' (');
                        return `<li><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"></path></svg><strong>${principle}</strong> (${translation.replace(')', '')})</li>`
                    }).join('')}
                </ul>`;
                finalSummaryEl.className = 'final-summary';
            } else {
                 const topicsToReview = `<ul>
                    ${incorrectAnswers.map(q => {
                        const [principle, translation] = q.title.split(' (');
                        return `<li><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg><strong>${principle}</strong> (${translation.replace(')', '')})</li>`
                    }).join('')}
                </ul>`;

                if (score >= questData.length / 2) {
                    title = "Gute Arbeit! (–ì–∞—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞!) üëç";
                    message = `–í–∏ –Ω–∞–±—Ä–∞–ª–∏ ${score} –∑ ${questData.length}. –í–∏ –¥–æ–±—Ä–µ –æ—Ä—ñ—î–Ω—Ç—É—î—Ç–µ—Å—å, –∞–ª–µ –∑–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –ø–æ–º–∏–ª–∫–∏. –û—Å—å —Ç–µ–º–∏, —è–∫—ñ –≤–∞—Ä—Ç–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏:`;
                    summaryList = topicsToReview;
                } else {
                    title = "√úbung macht den Meister (–ü—Ä–∞–∫—Ç–∏–∫–∞ –≤–µ–¥–µ –¥–æ –¥–æ—Å–∫–æ–Ω–∞–ª–æ—Å—Ç—ñ) ü§î";
                    message = `–í–∏ –Ω–∞–±—Ä–∞–ª–∏ ${score} –∑ ${questData.length}. –ù–µ –∑–∞—Å–º—É—á—É–π—Ç–µ—Å—å, –∫—É–ª—å—Ç—É—Ä–Ω—ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ ‚Äî —Ü–µ —Å–∫–ª–∞–¥–Ω–∏–π –¥–æ—Å–≤—ñ–¥. –û—Å–æ–±–ª–∏–≤—É —É–≤–∞–≥—É –∑–≤–µ—Ä–Ω—ñ—Ç—å –Ω–∞:`;
                    summaryList = topicsToReview;
                }
                finalSummaryEl.className = 'final-summary review-topics';
            }

            finalTitleEl.innerHTML = title;
            finalMessageEl.textContent = message;
            finalSummaryEl.innerHTML = summaryList;
        }

        function restartQuest() {
            currentSceneIndex = 0;
            score = 0;
            incorrectAnswers = [];
            finalScreenEl.classList.add('hidden');
            startScreenEl.classList.remove('hidden');
            questContainerEl.classList.add('hidden');
            navigationContainerEl.classList.remove('hidden');
        }

        startBtnEl.addEventListener('click', startQuest);
        nextBtnEl.addEventListener('click', nextScene);
        restartBtnEl.addEventListener('click', restartQuest);
    </script>
</body>
</html>

