<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Частина 4: Підготовка — Deutsch+Profis</title>
<meta name="description" content="Діалог 4.1: Марічка телефонує у відділ кадрів, щоб обговорити питання житла та документів." />
<meta name="theme-color" content="#009846" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet" />
<style>
:root {
  --green: #009846;
  --green-light: #e6f5f0;
  --dark: #1f2937;
  --muted: #6b7280;
  --bg: #f9fafb;
  --card-bg: #ffffff;
  --border-color: #e5e7eb;
  --radius: 16px;
  --shadow: 0 4px 6px -1px rgba(0,0,0,.03), 0 2px 4px -2px rgba(0,0,0,.03);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,.05), 0 4px 6px -4px rgba(0,0,0,.05);
  --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

html {
  scroll-behavior: smooth;
}
body {
  margin: 0;
  background: var(--bg);
  color: #374151;
  font-family: 'Inter', system-ui, sans-serif;
  line-height: 1.6;
}
.wrap {
  box-sizing: border-box;
  max-width: 800px;
  margin: 0 auto;
  padding: 0 clamp(16px, 5vw, 24px);
}
h2 {
  font-size: clamp(28px, 4vw, 36px);
  text-align: center;
  color: var(--dark);
  margin-bottom: 16px;
}
h3 {
  font-size: 22px;
  margin-bottom: 24px;
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border-color);
  color: var(--dark);
}
.lead {
  font-size: clamp(16px, 2vw, 18px);
  color: var(--muted);
  max-width: 600px;
  margin: 0 auto 56px;
  text-align: center;
}

/* --- Navigation --- */
.main-nav {
  position: sticky;
  top: 16px;
  margin: 16px clamp(16px, 5vw, 24px) 0;
  z-index: 50;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  padding: 12px 24px;
  box-shadow: var(--shadow-lg);
}
.main-nav .nav-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1100px;
  margin: 0 auto;
}
.logo {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  font-size: 18px;
  color: var(--dark);
  text-decoration: none;
}
.logo svg { color: var(--green); }

/* --- Dialogue Styles --- */
.dialogue-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--radius);
  padding: clamp(24px, 5vw, 40px);
  margin-bottom: 32px;
}
.dialogue-meta {
  font-style: italic;
  color: var(--muted);
  background: var(--bg);
  padding: 12px 16px;
  border-radius: 12px;
  margin-bottom: 24px;
  font-size: 15px;
}
.dialogue-line {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
}
.dialogue-line strong {
  font-weight: 700;
  color: var(--dark);
  flex-shrink: 0;
  width: 110px;
}
.dialogue-line p {
  margin: 0;
}
.dialogue-line .text-block {
    flex-grow: 1;
}
.translation {
    font-size: 14px;
    color: var(--muted);
    font-style: italic;
    padding-left: 12px;
    border-left: 2px solid var(--border-color);
    margin-top: 6px !important;
}

/* --- Audio Player --- */
.audio-player {
  display: flex;
  align-items: center;
  gap: 12px;
  background: var(--bg);
  padding: 12px 16px;
  border-radius: 12px;
  margin-bottom: 24px;
  border: 1px solid var(--border-color);
}
.audio-player .play-btn {
  background: var(--green);
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: white;
  transition: var(--transition);
  flex-shrink: 0;
}
.audio-player .play-btn:hover {
  transform: scale(1.1);
  box-shadow: var(--shadow);
}
.audio-player .play-btn svg {
  width: 20px;
  height: 20px;
}
.audio-player .play-icon {
    position: relative;
    left: 1px;
}
.audio-player .pause-icon { display: none; }
.audio-player.playing .play-icon { display: none; }
.audio-player.playing .pause-icon { display: block; }
.progress-bar-wrapper {
  flex-grow: 1;
  background-color: var(--border-color);
  height: 6px;
  border-radius: 3px;
  cursor: pointer;
}
.progress-bar {
  width: 0%; 
  height: 100%;
  background-color: var(--green);
  border-radius: 3px;
  transition: width 0.1s linear;
}
.time-display {
  font-size: 14px;
  color: var(--muted);
  font-family: monospace;
}

/* --- Vocabulary Styles --- */
.d-vocab {
  background: var(--green-light);
  border: 1px solid var(--green);
  border-radius: var(--radius);
  padding: clamp(24px, 5vw, 32px);
}
.d-vocab h3 {
  border-bottom: 1px solid rgba(0, 152, 70, 0.2);
}
.d-vocab ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.d-vocab li {
  display: grid;
  grid-template-columns: 1fr 1.5fr;
  gap: 16px;
  padding: 12px 0;
}
.d-vocab li + li {
  border-top: 1px solid rgba(0, 152, 70, 0.1);
}
.d-vocab .term {
  font-weight: 500;
  color: var(--dark);
}
.d-vocab .def {
  color: var(--muted);
}

/* --- Navigation Buttons --- */
.page-nav {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 16px;
  margin-top: 40px;
}
.d-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  text-decoration: none;
  border: 1px solid transparent;
  padding: 12px 24px;
  border-radius: 12px;
  font-weight: 700;
  font-size: 16px;
  transition: var(--transition);
  background: var(--card-bg);
  color: var(--dark);
  border-color: var(--border-color);
}
.d-btn:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: var(--green);
  color: var(--green);
}

/* --- Footer --- */
.footer {
  text-align: center;
  color: var(--muted);
  font-size: 14px;
  padding: clamp(40px, 7vw, 60px) 0;
}
.footer a {
  color: var(--green);
  text-decoration: none;
  font-weight: 500;
}
.footer a:hover {
  text-decoration: underline;
}
</style>
</head>
<body>

<nav class="main-nav">
  <div class="nav-content">
    <a href="index.html" class="logo">
      <svg width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
      Deutsch<span style="color:var(--green)">+</span>Profis
    </a>
  </div>
</nav>

<main>
  <section style="padding: clamp(40px, 7vw, 60px) 0;">
    <div class="wrap">
      <h2>Частина 4: Підготовка до поїздки</h2>
      <p class="lead">Договори підписано! Тепер час вирішувати організаційні питання. Марічка телефонує Frau Becker, щоб усе уточнити.</p>

      <div class="dialogue-card">
        <h3>4.1. Дзвінок щодо житла та документів</h3>
        
        <!-- TODO: Вставте сюди шлях до аудіофайлу (audio/dialogue-4-1.mp3) -->
        <audio id="dialogue-audio" src="" preload="metadata"></audio>
        <div class="audio-player" id="dialogue-player-controls">
            <button class="play-btn" aria-label="Відтворити аудіо">
                <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>
                <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
            </button>
            <div class="progress-bar-wrapper" id="progress-wrapper">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <span class="time-display" id="time-display">00:00 / 00:00</span>
        </div>
        
        <div class="dialogue-meta">
          <strong>Ситуація:</strong> Марічка телефонує у відділ кадрів "Agrar-Innovativ".
        </div>

        <div class="dialogue-line">
          <strong>Frau Becker:</strong>
          <div class="text-block">
            <p>Agrar-Innovativ, Becker am Apparat.</p>
            <p class="translation">"Аграр-Інноватів", Бекер біля телефону.</p>
          </div>
        </div>
        <div class="dialogue-line">
          <strong>Марічка:</strong>
          <div class="text-block">
            <p>Guten Tag, Frau Becker. Hier ist Marichka Kovalenko. Ich hoffe, ich störe Sie nicht.</p>
            <p class="translation">Доброго дня, фрау Бекер. Це Марічка Коваленко. Сподіваюся, я вас не турбую.</p>
          </div>
        </div>
        <div class="dialogue-line">
          <strong>Frau Becker:</strong>
          <div class="text-block">
            <p>Guten Tag, Frau Kovalenko! Nein, gar nicht. Es freut mich, von Ihnen zu hören. Wie kann ich Ihnen helfen?</p>
            <p class="translation">Доброго дня, пані Коваленко! Ні, зовсім ні. Рада вас чути. Чим можу допомогти?</p>
          </div>
        </div>
        <div class="dialogue-line">
          <strong>Марічка:</strong>
          <div class="text-block">
            <p>Wir bereiten uns gerade auf die Reise vor und haben ein paar organisatorische Fragen. Könnten Sie uns sagen, ob die Firma bei der Suche nach einer Unterkunft hilft?</p>
            <p class="translation">Ми якраз готуємося до поїздки і маємо кілька організаційних питань. Чи не могли б ви сказати, чи допомагає фірма з пошуком житла?</p>
          </div>
        </div>
         <div class="dialogue-line">
          <strong>Frau Becker:</strong>
          <div class="text-block">
            <p>Ja, natürlich. Wir haben ein Gästehaus für unsere internationalen Praktikanten. Dort gibt es möblierte Zimmer. Alternativ können wir Ihnen eine Liste mit vertrauenswürdigen Vermietern geben.</p>
            <p class="translation">Так, звісно. У нас є гостьовий будинок для наших міжнародних практикантів. Там є мебльовані кімнати. Як альтернативу, ми можемо надати вам список надійних орендодавців.</p>
          </div>
        </div>
         <div class="dialogue-line">
          <strong>Марічка:</strong>
          <div class="text-block">
            <p>Das ist super, vielen Dank! Und welche Unterlagen müssen wir am ersten Arbeitstag mitbringen?</p>
            <p class="translation">Це чудово, велике дякую! А які документи нам потрібно принести в перший робочий день?</p>
          </div>
        </div>
         <div class="dialogue-line">
          <strong>Frau Becker:</strong>
          <div class="text-block">
            <p>Bitte bringen Sie Ihren Reisepass, das Visum bzw. die Aufenthaltserlaubnis, einen Nachweis der Krankenversicherung und Ihre deutsche Bankverbindung mit. Wenn Sie noch kein deutsches Konto haben, können wir Ihnen bei der Eröffnung helfen.</p>
            <p class="translation">Будь ласка, принесіть ваш закордонний паспорт, візу або дозвіл на проживання, підтвердження медичного страхування та реквізити вашого німецького банківського рахунку. Якщо у вас ще немає німецького рахунку, ми можемо допомогти вам його відкрити.</p>
          </div>
        </div>
        <div class="dialogue-line">
          <strong>Марічка:</strong>
          <div class="text-block">
            <p>Alles klar, das notiere ich mir. Vielen Dank für Ihre Hilfe!</p>
            <p class="translation">Все зрозуміло, я собі це запишу. Щиро дякую за вашу допомогу!</p>
          </div>
        </div>
        <div class="dialogue-line">
          <strong>Frau Becker:</strong>
          <div class="text-block">
            <p>Gern geschehen. Ich wünsche Ihnen eine gute Reisevorbereitung! Auf Wiederhören.</p>
            <p class="translation">Будь ласка. Бажаю вам гарної підготовки до поїздки! До побачення.</p>
          </div>
        </div>
        <div class="dialogue-line">
          <strong>Марічка:</strong>
          <div class="text-block">
            <p>Auf Wiederhören!</p>
            <p class="translation">До побачення!</p>
          </div>
        </div>
      </div>
      
      <div class="d-vocab">
          <h3>Ключові фрази та лексика</h3>
          <ul>
              <li>
                  <span class="term">stören</span>
                  <span class="def">турбувати, заважати</span>
              </li>
              <li>
                  <span class="term">die Unterkunft</span>
                  <span class="def">житло, помешкання</span>
              </li>
              <li>
                  <span class="term">das Gästehaus</span>
                  <span class="def">гостьовий будинок</span>
              </li>
               <li>
                  <span class="term">möbliert</span>
                  <span class="def">мебльований</span>
              </li>
              <li>
                  <span class="term">der Vermieter</span>
                  <span class="def">орендодавець</span>
              </li>
               <li>
                  <span class="term">die Aufenthaltserlaubnis</span>
                  <span class="def">дозвіл на проживання</span>
              </li>
              <li>
                  <span class="term">der Nachweis der Krankenversicherung</span>
                  <span class="def">підтвердження медичного страхування</span>
              </li>
              <li>
                  <span class="term">die Bankverbindung</span>
                  <span class="def">банківські реквізити</span>
              </li>
              <li>
                  <span class="term">das Konto eröffnen</span>
                  <span class="def">відкрити (банківський) рахунок</span>
              </li>
              <li>
                  <span class="term">die Reisevorbereitung</span>
                  <span class="def">підготовка до поїздки</span>
              </li>
          </ul>
      </div>

      <div class="page-nav">
          <a href="part3-results.html" class="d-btn">← Назад до результатів</a>
          <a href="part5-first-day.html" class="d-btn">Далі: Перший день →</a>
      </div>

    </div>
  </section>
  
  <footer class="footer">
    <div class="wrap">
      <p>© 2025 Deutsch+Profis • ВСП «АЕФК ПДАУ». Усі права захищені.</p>
      <p><a href="https://docs.google.com/forms/d/e/YOUR_FORM_ID/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">Запропонувати ідею</a></p>
    </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const audio = document.getElementById('dialogue-audio');
    const playerControls = document.getElementById('dialogue-player-controls');
    
    if (!audio || !playerControls) return;

    const playBtn = playerControls.querySelector('.play-btn');
    const progressBar = document.getElementById('progress-bar');
    const progressWrapper = document.getElementById('progress-wrapper');
    const timeDisplay = document.getElementById('time-display');

    const formatTime = (seconds) => {
        const minutes = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    };

    audio.addEventListener('loadedmetadata', () => {
        if (audio.duration && !isNaN(audio.duration)) {
            timeDisplay.textContent = `${formatTime(0)} / ${formatTime(audio.duration)}`;
        }
    });

    playBtn.addEventListener('click', () => {
        if (!audio.src || audio.src.endsWith(window.location.pathname)) {
            console.warn("Аудіофайл не вказано.");
            return;
        }

        const isPlaying = playerControls.classList.contains('playing');
        if (isPlaying) {
            audio.pause();
            playerControls.classList.remove('playing');
        } else {
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    playerControls.classList.add('playing');
                }).catch(error => {
                    console.error("Помилка відтворення аудіо:", error);
                    playerControls.classList.remove('playing');
                });
            }
        }
    });

    audio.addEventListener('timeupdate', () => {
        if (audio.duration && !isNaN(audio.duration)) {
            const progressPercent = (audio.currentTime / audio.duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            timeDisplay.textContent = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
        }
    });

    progressWrapper.addEventListener('click', (e) => {
        if (audio.duration && !isNaN(audio.duration)) {
            const width = progressWrapper.clientWidth;
            const clickX = e.offsetX;
            audio.currentTime = (clickX / width) * audio.duration;
        }
    });
    
    audio.addEventListener('ended', () => {
        playerControls.classList.remove('playing');
        progressBar.style.width = '0%';
        audio.currentTime = 0;
        if (audio.duration && !isNaN(audio.duration)) {
           timeDisplay.textContent = `${formatTime(0)} / ${formatTime(audio.duration)}`;
        }
    });
});
</script>
</body>
</html>

