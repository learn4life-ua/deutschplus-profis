<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Агро-словник | Deutsch+Profis</title>
<meta name="description" content="Фахова лексика для агрономії: ґрунти, посів, урожай." />

<!-- Мета-теги та шрифти з головного сайту -->
<meta name="theme-color" content="#009846" />
<meta property="og:title" content="Deutsch+Profis — Німецька для професії" />
<meta property="og:description" content="Словники, діалоги, вправи, етикет. Німецька для роботи — просто та практично." />
<meta property="og:image" content="https://res.cloudinary.com/dsbqtfrkc/image/upload/v1717672358/og-image-d-profis_v2_b1qf8a.png" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet" />

<!-- ОСНОВНІ СТИЛІ САЙТУ -->
<style>
:root {
  --green: #009846;
  --green-light: #e6f5f0;
  --dark: #1f2937;
  --yellow: #FFED00;
  --muted: #6b7280;
  --bg: #f9fafb;
  --card-bg: #ffffff;
  --border-color: #e5e7eb;
  --radius: 16px;
  --shadow: 0 4px 6px -1px rgba(0,0,0,.03), 0 2px 4px -2px rgba(0,0,0,.03);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,.05), 0 4px 6px -4px rgba(0,0,0,.05);
  --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}
/* ===== БАЗОВІ СТИЛІ ===== */
html { scroll-behavior: smooth; scroll-padding-top: 100px; }
body {
  margin: 0;
  background: var(--bg);
  color: #374151;
  font-family: 'Inter', system-ui, sans-serif;
  line-height: 1.6;
}
.wrap {
  box-sizing: border-box;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 clamp(16px, 5vw, 24px);
}
section, .header, footer {
  box-sizing: border-box;
  padding: clamp(40px, 7vw, 60px) 0;
}

/* ===== ТИПОГРАФІКА ===== */
h1, h2, h3 { color: var(--dark); font-weight: 800; line-height: 1.25; margin: 0; }
h1 { font-size: clamp(36px, 5vw, 52px); }
h2 { font-size: clamp(28px, 4vw, 36px); text-align: center; margin-bottom: clamp(40px, 8vw, 56px); }
h3 { font-size: 22px; margin-bottom: 4px; }
.lead { font-size: clamp(16px, 2vw, 18px); color: var(--muted); max-width: 600px; margin: 16px auto 32px; }
.center { text-align: center; }

/* ===== НАВІГАЦІЯ ===== */
.main-nav {
  position: sticky; top: 16px; margin: 16px clamp(16px, 5vw, 24px) 0;
  z-index: 50; background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(10px);
  border: 1px solid var(--border-color); border-radius: 16px; box-shadow: var(--shadow-lg);
}
.main-nav .nav-content {
  display: flex; justify-content: space-between; align-items: center; max-width: 1100px;
  margin: 0 auto; padding: 12px clamp(16px, 5vw, 24px);
}
.logo { display: flex; align-items: center; gap: 8px; font-weight: 700; font-size: 18px; color: var(--dark); text-decoration: none; }
.logo svg { color: var(--green); }
.nav-links { display: flex; gap: 24px; list-style: none; margin: 0; padding: 0; }
.nav-links a { text-decoration: none; color: var(--dark); font-weight: 500; transition: color 0.2s; }
.nav-links a:hover { color: var(--green); }
.nav-toggle { display: none; }

@media (max-width: 768px) {
  .nav-links {
    display: none; position: absolute; top: calc(100% + 8px); left: 0; right: 0;
    background: var(--card-bg); flex-direction: column; padding: 16px; border-radius: var(--radius);
    box-shadow: var(--shadow-lg); border: 1px solid var(--border-color); gap: 16px;
  }
  .nav-links.active { display: flex; }
  .nav-toggle { display: block; cursor: pointer; background: none; border: none; padding: 0; }
}

/* ===== ХЕДЕР ===== */
.header { text-align: center; }

/* ===== СІТКА ДЛЯ КАРТОК ===== */
.d-grid { display: grid; gap: 24px; grid-template-columns: 1fr; }
@media (min-width: 768px) { .d-grid { grid-template-columns: repeat(2, 1fr); } }

/* ===== ФУТЕР ===== */
.footer { text-align: center; }
.footer a { color: var(--green); text-decoration: none; font-weight: 500; }
.footer a:hover { text-decoration: underline; }

/* =====
  НОВІ СТИЛІ, СПЕЦІАЛЬНО ДЛЯ СТОРІНКИ СЛОВНИКА
===== */

/* Стиль для поля пошуку */
.search-input {
  box-sizing: border-box; width: 100%; max-width: 700px; margin: 0 auto clamp(40px, 8vw, 56px);
  padding: 16px 24px; font-size: 18px; border: 1px solid var(--border-color);
  border-radius: var(--radius); box-shadow: var(--shadow); transition: var(--transition);
}
.search-input:focus {
  outline: none; border-color: var(--green); box-shadow: 0 0 0 3px var(--green-light);
}

/* Стиль для підсвітки знайденого тексту */
.highlight {
  background-color: var(--yellow); border-radius: 4px; padding: 0 0.25rem;
  color: var(--dark); font-weight: 600;
}

/* НОВИЙ, ПРАВИЛЬНИЙ СТИЛЬ ДЛЯ КАРТКИ СЛОВНИКА */
.dictionary-card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  padding: 24px;
  border-radius: var(--radius);
  transition: var(--transition);
  display: flex;
  flex-direction: column;
  gap: 8px; /* Відстань між елементами всередині картки */
}
.dictionary-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
  border-color: var(--green);
}
/* Німецьке слово */
.dictionary-card h3 {
  color: var(--green);
  font-weight: 700;
}
/* Переклад українською */
.dictionary-card .translation {
  color: var(--dark);
  font-size: 16px;
  font-weight: 500;
  margin: 0;
}
/* Речення-приклад */
.dictionary-card .sentence {
  color: var(--muted);
  font-size: 15px;
  margin: 8px 0;
  padding-top: 12px;
  border-top: 1px solid var(--border-color);
}
.dictionary-card .sentence strong {
  color: #555;
  font-weight: 600;
}
/* Аудіо-плеєр */
.dictionary-card audio {
  width: 100%;
  margin-top: auto; /* Притискає плеєр до низу картки */
  padding-top: 8px;
}
</style>
</head>
<body>

<!-- НАВІГАЦІЯ (посилання оновлено) -->
<nav class="main-nav">
  <div class="nav-content">
    <a href="../" class="logo">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
      Deutsch<span style="color:var(--green)">+</span>Profis
    </a>
    <ul class="nav-links" id="nav-links">
      <li><a href="../#features">Розділи</a></li>
      <li><a href="../#about">Про проєкт</a></li>
      <li><a href="../#faq">FAQ</a></li>
    </ul>
    <button class="nav-toggle" id="nav-toggle" aria-label="Меню">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
  </div>
</nav>

<!-- Заголовок сторінки -->
<header id="top" class="header">
  <div class="wrap">
    <h1>Професійний словник</h1>
    <p class="lead">Ґрунти, посів, урожай</p>
  </div>
</header>

<!-- Основний контент словника -->
<main>
  <section style="padding-top: 0;">
    <div class="wrap">
      <!-- Поле пошуку -->
      <input id="searchInput" type="text" placeholder="Пошук слів німецькою або українською..." class="search-input">
    
      <!-- Контейнер для карток -->
      <div id="cardsContainer" class="d-grid">
        <!-- Картки будуть згенеровані сюди скриптом -->
      </div>
    </div>
  </section>
</main>

<!-- Футер -->
<footer class="footer">
  <div class="wrap">
    <p>© 2025 Deutsch+Profis • ВСП «АЕФК ПДАУ». Усі права захищені.</p>
  </div>
</footer>

<!-- СКРИПТИ -->
<script>
// Скрипт для мобільного меню
document.addEventListener("DOMContentLoaded", function() {
  const navToggle = document.getElementById('nav-toggle');
  const navLinks = document.getElementById('nav-links');
  if (navToggle && navLinks) {
    navToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
    });
  }
});

// --- СКРИПТ СЛОВНИКА ---

// Дані словника
const dictionaryData = [
    { german:"der Boden", ukrainian:"ґрунт", sentence:"Der Boden ist fruchtbar.", id:"audio/01_Der_Boden_ist_fruchtbar.mp3" },
    { german:"die Fruchtbarkeit", ukrainian:"родючість", sentence:"Die Fruchtbarkeit des Bodens ist wichtig.", id:"audio/02_Die_Fruchtbarkeit_des_Bodens_ist_wichtig.mp3" },
    { german:"der Acker", ukrainian:"рілля", sentence:"Der Acker wurde gepflügt.", id:"audio/03_Der_Acker_wurde_gepflügt.mp3" },
    { german:"die Aussaat", ukrainian:"посів", sentence:"Die Aussaat beginnt im Frühling.", id:"audio/04_Die_Aussaat_beginnt_im_Frühling.mp3" },
    { german:"säen", ukrainian:"сіяти", sentence:"Wir säen das Saatgut im April.", id:"audio/05_Wir_säen_das_Saatgut_im_April.mp3" },
    { german:"das Saatgut", ukrainian:"посівний матеріал", sentence:"Das Saatgut ist zertifiziert.", id:"audio/06_Das_Saatgut_ist_zertifiziert.mp3" },
    { german:"die Bodenbearbeitung", ukrainian:"обробіток ґрунту", sentence:"Die Bodenbearbeitung verbessert die Erträge.", id:"audio/07_Die_Bodenbearbeitung_verbessert_die_Erträge.mp3" },
    { german:"pflügen", ukrainian:"орати", sentence:"Wir pflügen das Feld heute.", id:"audio/08_Wir_pflügen_das_Feld_heute.mp3" },
    { german:"die Krume", ukrainian:"структура ґрунту", sentence:"Die Krume ist gut strukturiert.", id:"audio/09_Die_Krume_ist_gut_strukturiert.mp3" },
    { german:"der Humus", ukrainian:"гумус", sentence:"Der Boden enthält viel Humus.", id:"audio/10_Der_Boden_enthält_viel_Humus.mp3" },
    { german:"die Bodenprobe", ukrainian:"аналіз ґрунту", sentence:"Wir machen eine Bodenprobe.", id:"audio/11_Wir_machen_eine_Bodenprobe.mp3" },
    { german:"das Feld", ukrainian:"поле", sentence:"Das Feld ist bereit zur Aussaat.", id:"audio/12_Das_Feld_ist_bereit_zur_Aussaat.mp3" },
    { german:"locker", ukrainian:"пухкий", sentence:"Ein lockerer Boden speichert Wasser gut.", id:"audio/13_Ein_lockerer_Boden_speichert_Wasser_gut.mp3" },
    { german:"der Ertrag", ukrainian:"урожай", sentence:"Der Ertrag war sehr hoch.", id:"audio/14_Der_Ertrag_war_sehr_hoch.mp3" },
    { german:"die Ertragssteigerung", ukrainian:"підвищення врожайності", sentence:"Die Ertragssteigerung ist ein Ziel.", id:"audio/15_Die_Ertragssteigerung_ist_ein_Ziel.mp3" },
    { german:"die Kulturpflanze", ukrainian:"культурна рослина", sentence:"Diese Kulturpflanze wächst schnell.", id:"audio/16_Diese_Kulturpflanze_wächst_schnell.mp3" },
    { german:"anbauen", ukrainian:"вирощувати", sentence:"Wir bauen Weizen an.", id:"audio/17_Wir_bauen_Weizen_an.mp3" },
    { german:"der Nährstoff", ukrainian:"поживна речовина", sentence:"Pflanzen benötigen Nährstoffe zum Wachsen.", id:"audio/18_Pflanzen_benötigen_Nährstoffe_zum_Wachsen.mp3" },
    { german:"die Feuchtigkeit", ukrainian:"вологість", sentence:"Wir müssen die Feuchtigkeit des Bodens messen.", id:"audio/19_Wir_müssen_die_Feuchtigkeit_des_Bodens_messen.mp3" },
    { german:"bewässern", ukrainian:"зрошувати", sentence:"Es ist wichtig, das Feld regelmäßig zu bewässern.", id:"audio/20_Es_ist_wichtig_das_Feld_regelmäßig_zu_bewässern.mp3" }
];

// Допоміжні функції для безпечного виводу тексту та підсвітки
const escapeHtml = (s='') => s.replace(/[&<>"']/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch]));
const escapeRegex = (s='') => s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');

function highlightText(text, filter) {
  if (!filter) return escapeHtml(text);
  const safeFilter = escapeRegex(filter);
  const re = new RegExp(`(${safeFilter})`, 'gi');
  return escapeHtml(text).replace(re, '<span class="highlight">$1</span>');
}

// **ОНОВЛЕНА ФУНКЦІЯ РЕНДЕРУ КАРТОК**
function renderCards(filter = "") {
  const cardsContainer = document.getElementById('cardsContainer');
  cardsContainer.innerHTML = '';

  const filteredData = dictionaryData.filter(item => {
    const searchTerm = `${item.german} ${item.ukrainian} ${item.sentence}`.toLowerCase();
    return searchTerm.includes(filter.toLowerCase());
  });

  if (filteredData.length === 0) {
    cardsContainer.innerHTML = `<div class="center" style="grid-column: 1 / -1; padding: 40px; background: var(--card-bg); border-radius: var(--radius);">
                                  <h3>Нічого не знайдено</h3>
                                  <p class="lead" style="margin-top: 8px;">Спробуйте інший пошуковий запит.</p>
                                </div>`;
    return;
  }

  filteredData.forEach(item => {
    const audioHtml = item.id
      ? `<audio controls preload="none">
           <source src="${item.id}" type="audio/mpeg">
           Ваш браузер не підтримує аудіо.
         </audio>`
      : '';

    const card = document.createElement('div');
    // Використовуємо новий, спеціальний клас для картки
    card.className = "dictionary-card"; 
    
    // Нова, правильна структура HTML всередині картки
    card.innerHTML = `
      <h3>${highlightText(item.german, filter)}</h3>
      <p class="translation">${highlightText(item.ukrainian, filter)}</p>
      <p class="sentence"><strong>Приклад:</strong> ${highlightText(item.sentence, filter)}</p>
      ${audioHtml}
    `;
    cardsContainer.appendChild(card);
  });
}

// Функція для затримки виконання (щоб пошук не спрацьовував на кожну літеру)
function debounce(fn, wait = 250) {
  let timeout;
  return function(...args) {
    clearTimeout(timeout);
    timeout = setTimeout(() => fn.apply(this, args), wait);
  };
}

// Запуск скрипту після завантаження сторінки
window.addEventListener('load', () => {
  renderCards();
  const searchInput = document.getElementById('searchInput');
  searchInput.addEventListener('input', debounce(() => renderCards(searchInput.value.trim())));
});
</script>

</body>
</html>
